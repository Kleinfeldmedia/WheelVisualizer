<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Wheel</title>
      <link rel="stylesheet" href="http://web6.vtdns.net/css/ontheme/bootstrap.min.css">
      <link rel="stylesheet" href="http://web6.vtdns.net/css/ontheme/animate.css">
      <link rel="stylesheet" href="http://web6.vtdns.net/css/ontheme/category-feature.css">
      <link rel="stylesheet" href="http://web6.vtdns.net/css/ontheme/lightbox.css">
      <link rel="stylesheet" href="http://web6.vtdns.net/css/stylesheet.css">
      <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900' rel='stylesheet' type='text/css'>
      <link href='https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700' rel='stylesheet' type='text/css'>
      <link rel="stylesheet" href="http://web6.vtdns.net/css/opencart.css">
      <link rel="stylesheet" href="http://web6.vtdns.net/css/swiper.css">
      <link rel="stylesheet" href="http://web6.vtdns.net/css/swiper.min.css">
      <link rel="stylesheet" href="http://web6.vtdns.net/css/owl.carousel.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.min.css">
      <link rel="stylesheet" href="http://web6.vtdns.net/js/jquery/magnific/magnific-popup.css">
      <link rel="stylesheet" href="http://web6.vtdns.net/js/jquery/datetimepicker/bootstrap-datetimepicker.min.css">
      <link rel="stylesheet" href="http://web6.vtdns.net/js/font-awesome/css/font-awesome.min.css">
      <link rel="stylesheet" href="http://web6.vtdns.net/css/jquery-ui.css">
      <link rel="stylesheet" href="http://web6.vtdns.net/css/zoomple.css">
      <link rel="stylesheet" href="http://web6.vtdns.net/choosen/css/chosen.min.css">
      <link rel="stylesheet" href="http://web6.vtdns.net/css/wheels.css">
       <style>
         .modal_canvas{
         min-height: 427px !important;
         }
         .col-sm-12.wheel-des p
         {
         font-family: poppins !important;
         font-size: 12px !important;
         line-height: 30px !important;
         color: #000 !important;
         margin: 0px 0px !important;
         text-align:justify;
         }
         .col-sm-12.wheel-des b a
         {
         font-size: 12px !important;
         font-family: Montserrat !important;
         color: #0e1661 !important;
         }
         .wheel-des
         {
         padding: 20px 20px !important;
         }
         .modal-header {
         background: #0e1661 !important;
         color: #fff !important;
         }
         .btn.btn-info
         {
         background: #ecb23d !important;
         font-family:Montserrat !important;
         font-size:12px !important;
         }
         .btn.btn-info:hover {
         background: #0e1661 !important;
         }
         .reward-block .btn
         {
         width:100% !important;
         }
         .modal-dialog.tire-view {
         width: 300px !important;
         }
         .form-group.has-success.has-feedback {
         margin: 0px 0px !important;
         }
         .modal-dialog.tire-view.btn.btn-info {
         margin: 10px 0px !important;
         }
         .form-group.has-success.has-feedback {
         margin: 10px 0px !important;
         }
         .col-sm-5.control-label
         {
         color: #000 !important;
         font-family: Montserrat !important;
         font-size: 12px !important;
         }
         .modal-dialog.tire-view .modal-header
         {
         padding: 10px !important;
         border-bottom:none;
         }
         </style>
   </head>
   <body>
      <main>
         <div class="se-pre-con"></div>
         <section>
            <div class="container-fluid home-page">
               <!--  <style>
                  .modal_canvas{
                  min-height: 427px !important;
                  }
                  .col-sm-12.wheel-des p
                  {
                  font-family: poppins !important;
                  font-size: 12px !important;
                  line-height: 30px !important;
                  color: #000 !important;
                  margin: 0px 0px !important;
                  text-align:justify;
                  }
                  .col-sm-12.wheel-des b a
                  {
                  font-size: 12px !important;
                  font-family: Montserrat !important;
                  color: #0e1661 !important;
                  }
                  .wheel-des
                  {
                  padding: 20px 20px !important;
                  }
                  </style> -->
               <section id="product">
                  <div class="container pro">
                     <div class="row">
                        <div class="col-sm-12 sub-head">
                           <h1>Visual Wheels</h1>
                        </div>
                     </div>
                     <div class="row main-pro">
                        <div class="col-sm-9 col-sm-9 main-pro-inner">
                           <div class="row">
                              <div class="col-sm-4">
                                 <div class="product-layouts">
                                    <div class="product-thumb transition">
                                       <div class="image">
                                         <!--  <img class="wheelImage image_thumb" src="{{ViewProductImage('storage/wheels/Koko_Sardinia5_GB_KO4576218304_18.jpg')}}" title="Koko" alt="Koko">
                                          <img class="wheelImage image_thumb_swap" src="{{ViewProductImage('storage/wheels/Koko_Sardinia5_GB_KO4576218304_18.jpg')}}" title="Koko" alt="Koko">
                                          <div class="sale-icon"><a>Sale</a></div> -->
                                       </div>
                                       <div class="thumb-description">
                                          <div class="caption">
                                             <!-- <h4><a href="http://web6.vtdns.net/wheels?brand=WyJLb2tvIl0="> <br> Diameter : 18 </a></h4> -->
                                             <br>
                                             <button id="WheelMapButton" class="btn btn-primary " data-toggle=modal data-target="#myModal0" onclick="WheelMapping('0')" >Show Wheel on Vehicle</button>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <!-- Model Car Start --> 
                           <div class="modal fade" id="myModal0" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                              <div class="modal-dialog">
                                 <div class="modal-content">
                                    <div class="modal-header">
                                       <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                                       <h4 class="modal-title" id="myModalLabel">
                                          2015 -
                                          Audi -
                                          A3 Cabriolet -
                                          FWD
                                          2
                                          convertible 
                                       </h4>
                                    </div>
                                    <div class="modal-body">
                                       <div class="row main-model-body" >
                                          <div class="col-sm-12 model-car modal_canvas" id="modal_canvas_0">
                                             <img id="car_image_0" class="car_image_0 car_image_9818 car_image_responsive" src="http://web6.vtdns.net/storage/cars/9612_cc2400_032_019.png" data-carid="9818" data-imagename="storage/cars/9612_cc2400_032_019.png">
                                          </div>
                                          <div class="car-wheel">
                                             <div class="front" >
                                                <img class="frontimg" src="http://web6.vtdns.net/storage/wheels/front_back/Koko_Sardinia5_GB_KO4576218304_18.png" id="image-diameter-front-0" >
                                             </div>
                                             <div class="back">
                                                <img src="http://web6.vtdns.net/storage/wheels/front_back/Koko_Sardinia5_GB_KO4576218304_18.png" id="image-diameter-back-0">
                                             </div>
                                          </div>
                                       </div>
                                       <div class="row model-car-body">
                                         <!--  <div class="col-sm-4">
                                             <h1 class="model-car">Vechicle Color</h1>
                                             <ul class="list-color">
                                                <li class="color-radius car_color color-selected" style="background:#5E5D63;" title="Monsoon Gray Metallic/Black Roof" data-code="0CPA" data-vif="9818"></li>
                                                <li class="color-radius car_color " style="background:#0B0C0B;" title="Mythos Black Metallic/Black Roof" data-code="0EPA" data-vif="9818"></li>
                                                <li class="color-radius car_color " style="background:#E1E2E2;" title="Glacier White Metallic/Black Roof" data-code="2YPA" data-vif="9818"></li>
                                                <li class="color-radius car_color " style="background:#8E8F8A;" title="Lotus Gray Metallic/Black Roof" data-code="2ZPA" data-vif="9818"></li>
                                                <li class="color-radius car_color " style="background:#391B26;" title="Shiraz Red Metallic/Black Roof" data-code="3APA" data-vif="9818"></li>
                                                <li class="color-radius car_color " style="background:#A10000;" title="Brilliant Red/Black Roof" data-code="C8PA" data-vif="9818"></li>
                                                <li class="color-radius car_color " style="background:#A3A2A1;" title="Florett Silver Metallic/Black Roof" data-code="L5PA" data-vif="9818"></li>
                                                <li class="color-radius car_color " style="background:#261F19;" title="Beluga Brown Metallic/Black Roof" data-code="M5PA" data-vif="9818"></li>
                                                <li class="color-radius car_color " style="background:#112145;" title="Scuba Blue Metallic/Black Roof" data-code="S9PA" data-vif="9818"></li>
                                                <li class="color-radius car_color " style="background:#484336;" title="Dakota Gray Metallic/Black Roof" data-code="Y7PA" data-vif="9818"></li>
                                             </ul>
                                          </div>
                                          <div class="col-sm-4">
                                             <h1 class="model-car">Wheel Diameter</h1>
                                             <button class="model-button diameter-up" data-id="0">Zoom In</button>
                                             <button class="model-button diameter-down" data-id="0">Zoom Out</button>
                                          </div>
                                          <div class="col-sm-4">
                                             <h1 class="model-car">Share :</h1>
                                             <ul class="model-list-unstyled">
                                                <li class="facebook">
                                                   <a target="_blank" class="_blank" href="#" title="Facebook">
                                                   <i class="fa fa-facebook"></i>
                                                   </a>
                                                </li>
                                                <li class="twitter">
                                                   <a target="_blank" class="_blank" href="#" title="Twitter">
                                                   <i class="fa fa-twitter"></i>
                                                   </a>
                                                </li>
                                                <li class="google-plus">
                                                   <a target="_blank" class="_blank" href="#" rel="publisher" title="Google Plus">
                                                   <i class="fa fa-google-plus"></i>
                                                   </a>
                                                </li>
                                                <li class="pinterest">
                                                   <a target="_blank" class="_blank" href="#" rel="publisher" title="pinterest">
                                                   <i aria-hidden="true" class="fa fa-pinterest-p"></i>
                                                   </a>
                                                </li>
                                             </ul> -->
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <!-- Model Car End -->
                           <!-- Model Car End -->
                        </div>
                     </div>
                  </div>
            </div>
            </section>
            </div>
         </section>
      </main>
      <!-- Main End -->
      <!-- Javascript Start -->
      <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="http://web6.vtdns.net/js/jquery.min.js"></script>
      <script src="http://web6.vtdns.net/js/jquery-2.1.1.min.js"></script>
      <script src="http://web6.vtdns.net/js/bootstrap.min.js"></script> 
      <script src="http://web6.vtdns.net/js/ajax/jquery.min.js"></script> 
      <script type="text/javascript">
         var boxes;
         var allData;
         var widthAdjusted=true;
         var $loading = $('.se-pre-con');
         getWheelPosition();
         $(document).ready(function(){
            // getWheelPosition();
                     $loading.fadeOut("slow");
         });
         function getWheelPosition(key){   
            var data={
               year:"{{$request->year?:'2015'}}",//'2015',
               make:"{{$request->make?:'Volvo'}}",
               model:"{{$request->model?:'S60'}}",
               submodel:"{{$request->submodel?:'T6 Polestar-4 Dr Sedan'}}",
               wheelpartno:"{{$request->wheelpartno?:'2610Z20KOSAGB'}}",//'2610Z20KOSAGB',//'N01-2285Z38JB',
               accesstoken:"{{$request->accesstoken?:'Ykc5allXeG9iM04w'}}",//'Ykc5allXeG9iM04w',
            }
         
         
            var contentType ="application/x-www-form-urlencoded; charset=utf-8";
             
            if(window.XDomainRequest) //for IE8,IE9
                contentType = "text/plain";
             
            $.ajax({
                 url:"http://web9.vtdns.net/api/WheelByVehicle",
                 data:data,
                 type:"POST",
                 dataType:"json",   
                 contentType:contentType,    
                 success:function(result)
                 {


                  if(result['status'] == true){

                     allData = result['data']; 
                  
                     console.log(allData);
                     // WheelMapping();  
                      // console.log('Response Binded ')   
                      // var delay = 1000;
                      // setTimeout(function() 
                      //     {  
                      //     $loading.fadeOut("slow");
                      //     console.log('Waiting Time Closed')    
                      //     },
                      //     delay
                      // ) ;    
                   }else{

                     alert(result['message']);
                     DisableModal();
                   }
                 },
                 error:function(jqXHR,textStatus,errorThrown)
                 {
                     alert('Something Went Wrong!')
                     DisableModal();


                          $loading.fadeOut("slow");
                     // alert("You can not send Cross Domain AJAX requests: "+errorThrown);
                 }
            });
         
          
         }
         function DisableModal(key=''){ 
            $('#WheelMapButton').attr('disabled',true);
         }
         function WheelMapping(key=''){ 
           
                     boxes =  allData['position'];
                     $('#car_image').attr('src',allData['carimage']);
                     $('#image-diameter-front').attr('src',allData['frontimage']);
                     $('#image-diameter-back').attr('src',allData['frontimage']);
                     $('#myModalLabel').html(allData['vehicle']);

             if(boxes[0][0] < 400 ){
         
                 f = boxes[0];
         
                 b = boxes[1];
                 
             }else{
         
                 f = boxes[1];
         
                 b = boxes[0];
             }
                // d=f[3]-f[2];
             // if(d > 21){
             //     f[3] = f[2]+14;//+(f[2]/2);
             // }
         
             // d = f[3]-f[2];
             var front = $('#image-diameter-front-0');
             front.css('left',f[0]-18+'px');
             front.css('top',f[1]-1+'px');
             if(widthAdjusted){
                 console.log(widthAdjusted)
                 var extraWidth=0;
                 if(front.width() - f[2] > 4)
                 {
                     extraWidth=(front.width() - f[2])/2;
                 }
                 console.log(extraWidth)
                 front.width(front.width()+extraWidth+'px');
                 widthAdjusted = false;
             } 
         
         
             var back = $('#image-diameter-back-0');
             back.css('left',b[0]-11.5+'px');
             back.css('top',b[1]+8.5+'px'); 
         
         }
         
      </script> 
      <script src="http://web6.vtdns.net/js/tire_product_search.js"></script>
      <script src="http://web6.vtdns.net/js/wheel_product_search.js"></script>
      <script src="http://web6.vtdns.net/js/wheel_visualiser.js"></script>
      <script src="http://web6.vtdns.net/js/common_search.js"></script>
      <script src="http://web6.vtdns.net/js/popImg.js"></script>
      <!-- <script src="http://web6.vtdns.net/js/opencv/opencv-3.3.1.js" async></script> -->
   </body>
</html>